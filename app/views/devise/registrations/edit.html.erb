<div id="devise" class="box">
<h2>ユーザー情報の編集</h2>

<%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
  <%= render "devise/shared/error_messages", resource: resource %>

    <div class="field">
      <div class="label">
        <label class="form-text">メールアドレス</label>
        <span class="indispensable">必須</span>
      </div>
      <div class="form"><%= f.email_field :email, autofocus: true, autocomplete: "email", class:"f_form" %></div>
    </div>

    <div class="field">
      <div class="label">
        <label class="form-text">パスワード</label>
        <span class="indispensable">必須</span>
      </div>
      <div class="form pass-form">
        <%= f.password_field :password, autocomplete: "new-password", class:"f_form" %>
        <% if @minimum_password_length %>
          <span class="minimam_pass">(<%= @minimum_password_length %> 文字以上 ※英字と数字の両方を含めて設定してください)</span>
        <% end %>
      </div>
    </div>

    <div class="field">
      <div class="label">
        <label class="form-text">パスワード(確認)</label>
        <span class="indispensable">必須</span>
      </div>
      <div class="form"><%= f.password_field :password_confirmation, autocomplete: "new-password", class:"f_form" %></div>
    </div>

    <div class="field">
      <div class="label">
        <label class="form-text">現在のパスワード</label>
        <span class="indispensable">必須</span>
      </div>
      <div class="form"><%= f.password_field :current_password, autocomplete: "current-password" %></div>
    </div>

    <div class="field">
      <div class="label">
        <label class="form-text">ニックネーム</label>
        <span class="indispensable">必須</span>
      </div>
      <div class="form"><%= f.text_field :nickname, autofocus: true, class:"f_form" %></div>
    </div>

    <div class="img-upload">
      <div class="field">
        <div class="img-upload-left">
          <div class="label">プロフィール画像</div>
          <div id="image-list"><%= image_tag @user.prof_image %></div>
        </div>
        <div class="click-upload">
          <p class="text">
            クリックしてファイルをアップロード
          </p>
          <%= f.file_field :prof_image, id:"item-image" %>
        </div>
      </div>
    </div>

    <div class="field">
      <div class="label">
        <label class="form-text">年齢</label>
        <span class="indispensable">必須</span>
      </div>
      <%= f.collection_select(:age_id, Age.all, :id, :name, {}, {class:"select-box"}) %>
    </div>

    <div class="field">
      <div class="label">
        <label class="form-text">性別</label>
        <span class="indispensable">必須</span>
      </div>
      <%= f.collection_select(:gender_id, Gender.all, :id, :name, {}, {class:"select-box"}) %>
    </div>

    <div class="field">
      <div class="label">
        <label class="form-text">職業</label>
        <span class="indispensable">必須</span>
      </div>
      <%= f.collection_select(:occupation_id, Occupation.all, :id, :name, {}, {class:"select-box"}) %>
    </div>

    <div class="field">
      <div class="label">
        <label class="form-text">簡単な自己紹介</label>
        <span class="indispensable">必須</span>
      </div>
      <%= f.text_area :pr, autofocus: true, class:"f_tarea" %>
    </div>

  <div class="submit">
    <%= f.submit "ユーザー情報を変更する", class:"submit-btn" %>
  </div>
<% end %>
</div>

<p class="back"><%= link_to "戻る", :back %></p>
